<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:AppMovil.ViewModels"
             x:Class="AppMovil.Views.PerfilView"
             BackgroundColor="White"
             Title="Perfil">
    <Grid>
        <!-- Contenido principal -->
        <ScrollView>
            <VerticalStackLayout Padding="20" Spacing="12">
                <Label Text="{Binding Paciente.Nombre, StringFormat='¡Bienvenido, {0}!'}"
                       FontAttributes="Bold"
                       FontSize="26"
                       TextColor="#111"
                       HorizontalOptions="Center" />

                <Label Text="{Binding Paciente.Email}"
                       FontSize="16"
                       TextColor="#555"
                       HorizontalOptions="Center" />

                <Frame BackgroundColor="#111"
                       CornerRadius="10"
                       Padding="15">

                    <VerticalStackLayout Spacing="6">
                        <Label Text="{Binding Paciente.Dni, StringFormat='DNI: {0}'}" FontSize="14" />
                        <Label Text="{Binding Paciente.Telefono, StringFormat='Teléfono: {0}'}" FontSize="14" />
                        <Label Text="{Binding Paciente.Direccion, StringFormat='Dirección: {0}'}" FontSize="14" />
                        <Label Text="{Binding Paciente.ObraSocial, StringFormat='Obra Social: {0}'}" FontSize="14" />
                        <Label Text="{Binding Paciente.NumeroAfiliado, StringFormat='N° Afiliado: {0}'}" FontSize="14" />
                    </VerticalStackLayout>
                </Frame>
            </VerticalStackLayout>
        </ScrollView>

        <!-- Loader superpuesto -->
        <ActivityIndicator 
            IsRunning="{Binding IsRefreshing}" 
            IsVisible="{Binding IsRefreshing}" 
            VerticalOptions="Center" 
            HorizontalOptions="Center"
            Color="#007AFF" 
            WidthRequest="60" 
            HeightRequest="60"/>
    </Grid>
</ContentPage>
